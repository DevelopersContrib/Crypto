
<!DOCTYPE html>
<html>
<head>
  <title>Accounts</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <style>
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}

tr:nth-child(even) {
    background-color: #dddddd;
}
</style>
</head>
<body class="container">
<h2>Accounts</h2><span id="loading">Loading...</span>
<table id="table">
<tbody>
<tr>
<td>#</td>
<td>address</td>
<td>Eth</td>
</tr>
</tbody>
</table>

<script type="text/javascript">
var url = window.location.origin;
$(document).ready(function() {
	$.get(url+'/getBalances2?address={address}&param={param}',function(data){
		var d = jQuery.parseJSON(data);
		for(var x=0;x<d.tokens.length;x++){
			jQuery('#table tr').append('<td>'+d.tokens[x].symbol+'</td>');
		}
		
		for(var x=0;x<d.accounts.length;x++){
			var col = '<td>'+d.accounts[x].index+'</td>';
			var n = d.accounts[x].address+' '+d.accounts[x].name;
			col += '<td class="address" id="'+d.accounts[x].address+'" data-text="'+n+'">'+n+'</td>';
			col += '<td>'+d.accounts[x].eth+'</td>';
			
			for(var i=0;i<d.accounts[x].tokens.length;i++){
				col+='<td>'+d.accounts[x].tokens[i].value+'</td>';
			}
			$("#table").append('<tr>'+col+'</tr>');
		}
		$('#loading').remove();
	});
});
</script>
</body>
	
</html>